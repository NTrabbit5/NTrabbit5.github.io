<!DOCTYPE html>


<html lang="zh-CN">
  

    <head>
      <meta charset="utf-8" />
        
      <meta
        name="viewport"
        content="width=device-width, initial-scale=1, maximum-scale=1"
      />
      <title> TeX_baitu blog</title>
  <meta name="generator" content="hexo-theme-ayer">
      
      <link rel="shortcut icon" href="/favicon.ico" />
       
<link rel="stylesheet" href="/dist/main.css">

      
<link rel="stylesheet" href="/css/fonts/remixicon.css">

      
<link rel="stylesheet" href="/css/custom.css">
 
      <script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script>
       
 

      <link
        rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"
      />
      <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script>

      <!-- mermaid -->
      
      <style>
        .swal2-styled.swal2-confirm {
          font-size: 1.6rem;
        }
      </style>
    </head>
  </html>
</html>


<body>
  <div id="app">
    
      
    <main class="content on">
      


<script src="https://cdn.staticfile.org/typed.js/2.0.12/typed.min.js"></script>


<!-- Subtitle -->

  <script>
    try {
      var typed = new Typed("#subtitle", {
        strings: ['面朝大海，春暖花开', '愿你一生努力，一生被爱', '想要的都拥有，得不到的都释怀'],
        startDelay: 0,
        typeSpeed: 200,
        loop: true,
        backSpeed: 100,
        showCursor: true
      });
    } catch (err) {
      console.log(err)
    }
  </script>
  
<div id="main">
  <section class="outer">
  
  
  

<div class="notice" style="margin-top:50px">
    <i class="ri-heart-fill"></i>
    <div class="notice-content" id="broad"></div>
</div>
<script type="text/javascript">
    fetch('https://v1.hitokoto.cn')
        .then(response => response.json())
        .then(data => {
            document.getElementById("broad").innerHTML = data.hitokoto;
        })
        .catch(console.error)
</script>

<style>
    .notice {
        padding: 20px;
        border: 1px dashed #e6e6e6;
        color: #969696;
        position: relative;
        display: inline-block;
        width: 100%;
        background: #fbfbfb50;
        border-radius: 10px;
    }

    .notice i {
        float: left;
        color: #999;
        font-size: 16px;
        padding-right: 10px;
        vertical-align: middle;
        margin-top: -2px;
    }

    .notice-content {
        display: initial;
        vertical-align: middle;
    }
</style>
  
  <article class="articles">
    
    
    
    
    <article
  id="post-20231201-利用Filezilla在局域网内搭建自己的FTP服务器"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/12/01/20231201-%E5%88%A9%E7%94%A8Filezilla%E5%9C%A8%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84FTP%E6%9C%8D%E5%8A%A1%E5%99%A8/"
    >20231201-利用Filezilla在局域网内搭建自己的FTP服务器</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/12/01/20231201-%E5%88%A9%E7%94%A8Filezilla%E5%9C%A8%E5%B1%80%E5%9F%9F%E7%BD%91%E5%86%85%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84FTP%E6%9C%8D%E5%8A%A1%E5%99%A8/" class="article-date">
  <time datetime="2023-12-01T13:56:27.000Z" itemprop="datePublished">2023-12-01</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>filezilla server<br>filezilla client</p>
<p>在general setting 里面<br>更改最大用户树，这个数指的是允许的同时登录到服务器的用户数量</p>
<p>链接：<a target="_blank" rel="noopener" href="https://pan.baidu.com/s/1Ou4bQXyGn8OpfndGE-O5sg">https://pan.baidu.com/s/1Ou4bQXyGn8OpfndGE-O5sg</a><br>提取码：rb31</p>
<p>安装ftp 服务器</p>
<p>yum install -y vsftpd</p>
<p>添加用户名，用作ftp 匿名访问用户</p>
<p>useradd ftpuser</p>
<p>passwd ftpuser</p>
<p>配置文件</p>
<p>init.d linux 系统启动的初始化文件</p>
<p>winscp</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">void* func;</span><br><span class="line">const char* name;</span><br><span class="line"></span><br><span class="line">(void *) 强制类型转换</span><br><span class="line">void*p = (void*)p;</span><br><span class="line">void* vp1 = void*(p);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">static_cast&lt;&gt;</span><br><span class="line">const_cast&lt;&gt;</span><br><span class="line">dynamic_cast&lt;&gt;</span><br><span class="line">reinterpret_cast&lt;&gt;</span><br><span class="line"></span><br><span class="line">void (*init)(uint16_t tclk)</span><br><span class="line"></span><br><span class="line">void (*exe)(void)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>动态绑定</p>
<p>id</p>
<p>sptype 参数显示类型<br>parmtype </p>
<p>runtimeflag</p>
<p>extern struct <code>_m_usmart_dev_usmart_dev</code>;</p>
<!-- usmart_nametab[]; -->

<p>结构体的初始化</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;iostream&gt;</span><br><span class="line"></span><br><span class="line">myprint</span><br><span class="line"></span><br><span class="line">print_hex</span><br><span class="line"></span><br><span class="line">port</span><br><span class="line"></span><br><span class="line">sptype = 1;</span><br><span class="line"></span><br><span class="line">usmart_init</span><br><span class="line"></span><br><span class="line">usmart_cmd_rec</span><br><span class="line"></span><br><span class="line">const_char</span><br><span class="line"></span><br><span class="line">(char *)</span><br></pre></td></tr></table></figure>

<p>尽量少做转型工作</p>
<p>paramtype</p>
<p>参数是字符串</p>
<p>参数是数字</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">int arr[3] = &#123;0,1,2&#125;;</span><br><span class="line"></span><br><span class="line">for (int i = 0; i&lt; std::size(arr);i++)</span><br><span class="line">  std::cout &lt;&lt; arr[i] &lt;&lt; &quot; \n&quot;[i == std::size(arr) -1];</span><br><span class="line"></span><br><span class="line">(*(uint32_t(*)()))usmart_dev.funs[id].func(temp[0],temp[1],temp[2]);</span><br><span class="line"></span><br><span class="line">break;</span><br><span class="line"></span><br><span class="line">解引用</span><br><span class="line"></span><br><span class="line">uint32_t</span><br><span class="line"></span><br><span class="line">usmart_get_input_string</span><br><span class="line"></span><br><span class="line">III</span><br><span class="line"></span><br><span class="line">comp 对比字符串</span><br><span class="line"></span><br><span class="line">strtemp</span><br><span class="line"></span><br><span class="line">const</span><br><span class="line"></span><br><span class="line">print_hex(int i)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>把函数存起来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">std::function</span><br><span class="line"></span><br><span class="line">print_add(int 1)</span><br><span class="line"></span><br><span class="line">std::bind</span><br><span class="line"></span><br><span class="line">auto factorial</span><br><span class="line"></span><br><span class="line">cppreference.com</span><br></pre></td></tr></table></figure>





 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231201-LVGL模块"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/12/01/20231201-LVGL%E6%A8%A1%E5%9D%97/"
    >20231201-LVGL模块入门</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/12/01/20231201-LVGL%E6%A8%A1%E5%9D%97/" class="article-date">
  <time datetime="2023-12-01T13:34:44.000Z" itemprop="datePublished">2023-12-01</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>GUI简介</p>
<p>GUI 库：图形用户界面库，只要调用gui库的函数即可快速绘制出所需要的用户界面</p>
<p>开发难度低<br>可移植性高</p>
<p>风格统一、协调</p>
<p>嵌入式系统中常用的gui库</p>
<p>emwin</p>
<p>LVGL</p>
<p>TouchGFX</p>
<p>QT</p>
<p>LVGL简介</p>
<p>Light and versatile graphics library 是一个轻量、多功能的开源图形库。</p>
<p>LVGL移植要求</p>
<p>LVGL资料获取</p>
<p>LVGL库软件介绍</p>
<p>课堂总结</p>
<p>支持多种输入设备</p>
<p>部件、功能丰富</p>
<p>具备高级图形特征</p>
<p>支持多种样式属性</p>
<p>C语言编写</p>
<p>css 样式设计理念</p>
<p>LVGL 移植要求 熟悉</p>
<p>16 32 64 为￥微控制器或处理器</p>
<p>主控频率 &gt; 16Mhz</p>
<p>Flash&#x2F;ROM &gt;64kb 建议180kb以上</p>
<p>RAM &gt; 8kb 建议 24kb以上</p>
<p>图形缓冲区 &gt; 水平分辨率像素，建议大于1&#x2F;10 屏幕总像素</p>
<p>C99 或更新的版本的编译器</p>
<p>此要求仅针对v8版本的LVGL</p>
<hr>
<p>优化LVGL 运行效果的方法</p>
<p>提高芯片主频</p>
<p>增大 SRAM 容量，提高读写速度</p>
<p>增大图形缓冲区，使用双缓冲</p>
<p>减小需要刷新的总像素</p>
<hr>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">std::vector&lt;std::thread&gt;</span><br><span class="line">jthread </span><br><span class="line"></span><br><span class="line">uart</span><br><span class="line"></span><br><span class="line">public:</span><br><span class="line">  template &lt;typename Fn, typename ... &gt;</span><br><span class="line"></span><br><span class="line">std::any </span><br><span class="line"></span><br><span class="line">private:</span><br><span class="line">  void* m_fun;</span><br></pre></td></tr></table></figure>

<p>模板函数</p>
<p>ranges</p>
<p>类型</p>
<p>beep</p>
<p>后备区域BKP</p>
<p>RCC_BDCR<br>LSE</p>
<p>扭力扳手</p>
<p>RTC_PRER PREDIV_A 异步预分频器</p>
<p>ck_apre<br>ck_spre</p>
<p>0xff 即256分频</p>
<p>时间和日期相关寄存器</p>
<p>BCD码</p>
<p>可编程闹钟</p>
<p>周期性自动唤醒</p>
<p>16位可编程自动重载递减计数器</p>
<p>ck_spre</p>
<p>软件清零WUTF标志</p>
<p>TR 寄存器</p>
<p>0</p>
<p>写保护</p>
<p>WUTIE</p>
<p>位14</p>
<p>ALRAE</p>
<p>FMT 为小时格式选择位</p>
<p>ss[15:0]</p>
<p>亚秒值&#x3D;(PREDIV_S-SS)&#x2F;(PREDIV_S+1)</p>
<p>ALRBF</p>
<p>ALRAF</p>
<p>init 为初始化模式控制位</p>
<p>RTC唤醒寄存器</p>
<p>闹钟 秒的</p>
<p>备份寄存器</p>
<p>BKP 存储重要的数据</p>
<p>EEPROM</p>
<p>LSE<br>RTC</p>
<p>usmart 设置时间</p>
<p>hal 库</p>
<p>HAL_RTC_Init()</p>
<p>PutPut 使能A输出</p>
<p>HAL_RTC_SetTime() 设置rtc的时间函数</p>
<p>SetDate 是设置RTC 的日期函数</p>
<p>GetTime 函数</p>
<p>取消备份区域写保护</p>
<p>LSE RTC</p>
<p>唤醒中断，闹钟</p>
<p>g_rtc_handle</p>
<p>句柄</p>
<p>声明与使用靠近</p>
<p>LSE 外部低速时钟</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">retry--</span><br><span class="line"></span><br><span class="line">LSI</span><br><span class="line"></span><br><span class="line">rtc_read_bkr();</span><br><span class="line"></span><br><span class="line">sprintf(tbuf,&#x27;Time:%02d&#x27;,hour,min,sec)</span><br><span class="line"></span><br><span class="line">rtc_read_bkr</span><br><span class="line"></span><br><span class="line">rtc_get_week(uint16_t year,uint16_t month,uint16_t day)</span><br><span class="line"></span><br><span class="line">AlarmAEventCallback</span><br></pre></td></tr></table></figure>

<p>LVGL 资料获取</p>
<p>demos LVGL 官方演示代码</p>
<p>docs LVGL 文献，解析部件的使用方法</p>
<p>env_support 环境支持 MDK ESP RTThread</p>
<p>examples 示例、输入输出设备接口文件</p>
<p>scripts LVGL 手稿</p>
<p>src LVGL 源文件</p>
<p>tests 官方人员的测试代码</p>
<p>lv_conf_template.h LVGL 的剪裁文件</p>
<p>lvgl.h LVGL 包含的头文件</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231130-如何批量安装操作系统"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/30/20231130-%E5%A6%82%E4%BD%95%E6%89%B9%E9%87%8F%E5%AE%89%E8%A3%85%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"
    >20231130-如何批量安装操作系统</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/30/20231130-%E5%A6%82%E4%BD%95%E6%89%B9%E9%87%8F%E5%AE%89%E8%A3%85%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="article-date">
  <time datetime="2023-11-30T09:05:41.000Z" itemprop="datePublished">2023-11-30</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>要想为对于500台的计算机同时安装操作系统，首先需要满足如下安装条件</p>
<p>必须有一台带网卡的计算机A 作为服务器，其他的计算机作为客户端</p>
<p>必须将这些计算机都设置在一个局域网内</p>
<p>将这些电脑的ip 地址设置在一个网段之中</p>
<p>需要安装系统的电脑B 支持网络启动，如启动到PE ，内存最好大于256M</p>
<p>准备好活动硬盘或者u盘，其中包含操作系统和驱动程序相关文件</p>
<p>准备好网络启动软件包，两个软件包均可以启动到dos 或winpe ，启动会均支持usb 设备</p>
<p>window server</p>
<p>要想为对于500台的计算机批量安装操作系统，首页必须将其中的一台安装好可以做服务的操作系统，如window server 2003 2008 等，在安装好操作系统后，下面就可以创建服务器了</p>
<p>在安装好服务器端之后，下面就可以安装客户端程序了，这里以maxdos8为例，在客户机中安装客户端程序的具体操作步骤如下。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231129-Xshell工具的使用"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/29/20231129-Xshell%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/"
    >20231129-Xshell工具的使用</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/29/20231129-Xshell%E5%B7%A5%E5%85%B7%E7%9A%84%E4%BD%BF%E7%94%A8/" class="article-date">
  <time datetime="2023-11-29T06:25:00.000Z" itemprop="datePublished">2023-11-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>Xshell 是一个强大的安全终端模拟软件，它支持ssh1 ssh2 以及Microsoft windows 的telnet 协议</p>
<p>xshell 通过互联网到远程主机的安全连接以及他创新性的设计和特色帮助用户在复杂的网络环境中享受他们的工作</p>
<p>xshell 可以在windows 界面下用来访问远端不同系统下的服务器，从而比较好的达到远程控制终端的目的，除此之外，其还有丰富的外观配色方案以及样式选择</p>
<p>xshell 是通过命令来操作服务器</p>
<p>其实他的大家庭里还有  xftp securecrt securecrtFX putty 等</p>
<p>让xshell开始工作</p>
<p>安装好之后，我们开始第一次的正式使用，首先打开xshell 的工作界面</p>
<p>点击文件 新建</p>
<p>或者是点击这个新建按钮</p>
<p>xftp</p>
<p>如何修改xftp 显示服务器中隐藏的文件</p>
<p>可以直接通过关设置xftp 的属性就可以了</p>
<p>xshell 与 xftp 互联</p>
<p>我们可以通过xshell 连接xftp 吗</p>
<p>我们可以通过xftp 连接xshell 吗</p>
<p>好处，不需要额外建立连接或者是打开软件或者是再次输入密码</p>
<p>xftp 如何导出已有的登录信息</p>
<p>integritydl 「阿里云盘」链接：<a target="_blank" rel="noopener" href="https://www.aliyundrive.com/s/hao5yBVF9SF">https://www.aliyundrive.com/s/hao5yBVF9SF</a> 提取码: 2y5e</p>
<hr>
<p>常用命令的使用 cd ls cp rm tar</p>
<p>文本的编辑 vi gedit</p>
<p>用户及权限系统  chmod</p>
<p>shell 脚本入门 .sh</p>
<p>常见的服务器 vsftpd</p>
<p>java tomcat 运行环境的搭建等</p>
<p>其他软件的编译与安装 redis</p>
<p>X window gui 支持</p>
<p>文件系统</p>
<p>对于linux 来说，使用统一的目录树结构</p>
<p>&#x2F;home&#x2F;shaofa<br>&#x2F;root<br>&#x2F;bin<br>&#x2F;mnt<br>&#x2F;usr<br>&#x2F;etc</p>
<p>String filePath&#x3D;”c:&#x2F;example?abc.txt”</p>
<p>&#x2F;home&#x2F;shaofa&#x2F;abc.txt</p>
<p>opt 目录</p>
<p>cd 即current directory </p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd ~/example  其中~特指用户的主目录</span><br><span class="line">cd 回到用户目录 主目录位置</span><br></pre></td></tr></table></figure>

<p>pwd print working directory</p>
<p>ls 即list 列出文件和目录</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l ~example 其中 -l 参数表示详细模式</span><br></pre></td></tr></table></figure>

<p>FastCopy</p>
<p>绝对路径</p>
<p>相对路径</p>
<p>目录操作</p>
<p>mkdir 即make directory 创建目录</p>
<p>mkdir abc</p>
<p>mkdir -p abc&#x2F;123&#x2F;test</p>
<p>使用-p 参数，可以将路径的层次目录全部创建</p>
<p>rmdir 即 remove directory 删除空目录</p>
<p>rmdir abc</p>
<p>如果目录非空，则删除失败</p>
<p>rm -rf abc<br>删除abc 目录，和子项一并删除</p>
<p>其中r 表示 recursive 递归的 f 表示force</p>
<p>cp 复制 copy 复制文件或者目录</p>
<p>cp -rf example example2</p>
<p>归档压缩</p>
<p>tar 即tape 磁带设备 archive 档案打包</p>
<p>创建档案包</p>
<p>tar -cvf example.tar example</p>
<p>其中 c 表示create 创建档案<br>v 表示verbose 显示详情<br>f 表示file</p>
<p>也可以多个目录打包 tar -cvf xxx.tar file1 file2 file3</p>
<p>还原档案包</p>
<p><code>tar -xvf example.tar</code></p>
<p><code>tar -xvf example.tar -C outdir</code></p>
<p>其中-C 参数指定目标目录，默认解压到当前目录下</p>
<p>先前的tar 格式并没有压缩，体积较大</p>
<p>归档并压缩</p>
<p><code>tar -czvf example.tar.gz example</code></p>
<p>解压缩</p>
<p><code>tar -xzvf example.tar.gz -C outdir</code></p>
<p>通常我们所见的，都是 <code>*.tar.gz</code> 这种格式的</p>
<p>tab键可以自动补全</p>
<p>上下键可以回顾历史记录，左右键可以修改插入</p>
<p>一般地 在终端窗口里按鼠标右键支持复制粘贴</p>
<p>useradd 添加用户</p>
<p>chmod change file mode 改变文件权限</p>
<p>vi cat ps kill ping ifconfig</p>
<p>后续的章节中，会按照分类介绍更多命令行</p>
<p>软链接</p>
<p>即windows 下的快捷方式</p>
<p>使用ln 命令来创建软链接</p>
<p>ln -s source link</p>
<p>其中-s 表示soft 软链接 默认为硬</p>
<p>比如 </p>
<p>ln -s example example2</p>
<p>Hirender P1 播放器 Qlab</p>
<p>软链接的特点，对源文件没有影响<br>删除源文件，则软链接失效</p>
<p>除了软链接之外，还有一个为硬链接，不在本课程讲解</p>
<p>用户管理需要以管理员身份执行</p>
<p>所以，要先切换到root 账户</p>
<p>su 即switch user 可以切换用户</p>
<p>注意，是当前终端会话变成了root 账户，不是整个登录</p>
<p>用户管理</p>
<p>添加用户</p>
<p>useradd test1</p>
<p>观察 home 目录下的变化</p>
<p>修改用户密码</p>
<p>passwd test1</p>
<p>删除用户</p>
<p>userdel test1</p>
<p>以root 身份执行命令，有三种方法</p>
<p>以root 账户登录</p>
<p>以普通用户来登录，临时切换到su</p>
<p>以普通用户来登录，临时执行sudo</p>
<p>用户和组</p>
<p>groupadd boys</p>
<p>useradd -g boys gang</p>
<p>useradd -g boys ming</p>
<p>usermod 表示修改用户信息</p>
<p>usermod -g boys </p>
<p>如何查看用户和组</p>
<p>cat &#x2F;etc&#x2F;group</p>
<p>每一行表示一个用户信息</p>
<p>cat &#x2F;etc&#x2F;passwd</p>
<p>用户不多时，管理的时候并不使用组的概念</p>
<p>一个root 两个普通用户 a1 b1</p>
<p>文件的权限</p>
<p>本章讨论文件的权限问题</p>
<p>考虑以下几个方面</p>
<p>-owner 文件的属主 owner<br>-r 文件是否可读 read<br>-w 文件是否可写 write<br>-x 文件是否可执行 excute</p>
<p>chmod -x</p>
<p>rw-r–r– 表示该文件的访问权限</p>
<p>使用ls 命令查看一个文件</p>
<p>权限分为三部分，自己  同组 别人</p>
<p>例如<br>rwx rwx rwx<br>rwx rwx r–<br>r– — —</p>
<p>在文件夹窗口里，文件 属性，权限 查看</p>
<p>escape :wq</p>
<p>chmod o+w simple.txt </p>
<p>其中<br>o 表示other 别人<br>+w 表示增写write权限</p>
<p>chmod a+w simple.txt<br>所有人all 添加w 权限</p>
<p>chmod a-w simple.txt<br>所有人减去w 权限</p>
<p>chmod u+w simple.txt<br>仅用户user 自己的权限+w</p>
<p>chmod o-w simple.txt<br>修改别人other 的权限-w</p>
<p>只有文件的属主 或者root 可以修改文件权限</p>
<p>省略写法</p>
<p>chmod +w simple.txt<br>chmod -w simple.txt</p>
<p>默认是修改自己和本组的权限</p>
<p>chown 即change owner 修改文件的属主</p>
<p>一般来说，每个用户只操作自己的用户目录</p>
<p>所以chown 命令并不常用</p>
<p>修改文件属主</p>
<p>在&#x2F;opt 目录下建立一个文件夹source </p>
<p>将source 目录分配给用户shaofa</p>
<p>chown -R 表示递归</p>
<p>只有文件的owner和root 才有权更改属主</p>
<p>可执行脚本</p>
<p>脚本script 一种解释执行的程序</p>
<p>linux 下常见的三种脚本程序</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell 脚本 *.sh</span><br><span class="line">perl 脚本， *.pl</span><br><span class="line">python 脚本 *.py</span><br></pre></td></tr></table></figure>

<p>脚本程序，本质是一个文本文件</p>
<p>它是一个文本文件<br>它具有可执行权限</p>
<p>ls -l &#x2F;bin&#x2F;python3</p>
<p>本质上，脚本都是由解释器来执行的</p>
<p>shell 脚本解释器<br>perl 脚本解释器<br>python 脚本解释器</p>
<p>执行一个脚本时，以下两种方式等效</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">./hellp.py</span><br><span class="line">./usr/bin/python3 hello.py</span><br><span class="line">#!/bin/sh</span><br><span class="line"></span><br><span class="line">echo &quot;hello world&quot;</span><br></pre></td></tr></table></figure>

<p>环境变量，就是放在当前环境中的变量</p>
<p>无论linux 还是windows 都有环境变量</p>
<p>比如，最常用的环境变量 path，java_home</p>
<p>export</p>
<p>用户环境变量</p>
<p>用户环境变量 定义在 <code>~/.bash_profile</code> 中</p>
<p>在主目录下</p>
<p>ls -la </p>
<p>其中，a 表示all ，显示所有文件</p>
<p>注，在linux 下，以. 开头的文件为隐藏文件</p>
<p>gedit .bash_profile</p>
<p>要点与细节</p>
<p>以点号 . 开头的文件为隐藏文件</p>
<p>ls -a 查看所有文件</p>
<p>此配置只对当前用户有效</p>
<p>因为每个用户都有自己的配置文件.bash_profile</p>
<hr>
<p>系统环境变量</p>
<p>定义在&#x2F;etc&#x2F;profile 中</p>
<p>此中的环境变量对所有用户有效</p>
<p>以root 登录或执行</p>
<p>gedit &#x2F;etc&#x2F;ptofile</p>
<p>在centos 下，一般不直接修改 etc&#x2F;profile 而是在etc&#x2F;profile.d&#x2F; 创建一个自定义的脚本</p>
<p>系统环境变量<br>用gedit 创建一个脚本</p>
<p>定义环境变量</p>
<p>注销并重新登录</p>
<p>重新登录后，环境变量生效</p>
<p>PATH 环境变量</p>
<p>先来看一个问题，创建一个可执行脚本</p>
<p>默认地，系统从以下目录中搜索可执行程序</p>
<pre><code>~/bin
/usr/bin
/usr/sbin
/usr/local/bin
/usr/local/sbin

其中，sbin 为超级用户root 才能执行的程序

/usr/ 下系统自带的程序， /usr/local/ 是用户安装的程序

如果要对所有用户生效，需要加到

/etc/profile.d/myprofile.sh

export PATH=$PATH:/opt/jdk1.8/bin

VMware 下虚拟机上网的问题

在centos 内用浏览器上网

以管理员运行VMware 编辑 虚拟网络编辑器

三种联网方式

VMnet0 桥接Bridge
VMnet1 仅主机
VMnet8 NAT共享主机

一般地，使用NAT 方式或者Bridge 方式

虚拟机网络编辑器

打开windows 控制面板，大图标，网络与共享中心 更改适配器设置

默认地，在WMware 安装的时候会自动添加2个虚拟网卡

ifconfig

虚拟机与宿主机的互相连通的

与宿主机的网络互联

虚拟机与宿主机

VMware 虚拟出来的这个路由器不支持ping操作

tracert 自动连接网络

设置网络，在系统启动时自动连接网络

两种方式，
图形界面，直接设置
命令行界面，修改配置文件

ens33 

ls /etc/sysconfig/network-scripts

FTP 文件传输

用U盘拷贝过去

网络传输

FTP
SSH/SFTP
SAMBA/CIFS
NFS

FileZilla 客户端

SSH远程登录

本章介绍以ssh 方式进行远程登录

Telnet

Putty SecureCRT XShell

sshd 默认是启动的

systemctl status sshd

如果有防火墙，注意打开ssh 协议的22端口

运行SecureFX 文件上传 下载

FX 即 file Transmission

协议SFTP Secret File Transfer Protocol 端口22

gedit 一个基于gui的文本编辑器

vi 一个基于命令行的文本编辑器

需要掌握vi 的简单操作，因为一般的centos 可能不带gui 窗口环境


vi 的更多用法

vi 下其实还有非常复杂的命令和用法，除了i 和ESC 之外，几乎键盘上的每一个键都是快捷键

dd 表示删除一行

但是，这些都是不需要掌握的，不建议学习

如果只有少量修改，用vi

如果需要大量复杂的修改，现在windows 上编辑好
再上传到服务器上


文本文件的上传

比如，修改 /etc/vsftpd/vsftpd.conf

备份

cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.2

下载
本地编辑

用notepad++编辑

上传
换行符问题

当编辑linux 下的脚本文件或配置文件的时候，需要注意，换行符的问题

windows 下的文本文件的换行符 \r\n
linux 下的文本文件的换行符 \n

编辑，文档格式转换，转换为unix 格式

一般地，只有linux 脚本文件或者配置文件需要转换

其他的普通文件 java xml html 等则没有影响

在notepad++ 下，开启特殊符号显示，以方便检查换行符

java 运行环境

JRE，用于运行java 程序的环境

openjdk centos 配套的jdk 软件包，java 的开源版本，目前被更多人使用


查看已经安装的软件包
yum list installed

查看已经安装的软件包，并搜索java 记录
yum list installed | grep java

yum search java

grep ： global regular expression 命令用于查找文件里符合条件的字符串或正则表达式

grep 指令用于查找内容包含指定的范本样式的文件，如果发现某文件的内容符合所指定的范本样式，预设grep 指令会吧含有范本样式的那一列显示出来。

在linux 命令行进行算数运算的几种方法

openjdk 软件包



JRE 运行环境 [推荐]
java-1.8.0-openjdk.x86_64

开发环境
java-1.8.0-openjdk-devel.x86_64

精简的jre 运行环境，headless 版本
java-1.8.0-openjdk-headless.x86_64

运行java 程序

java -jqr your_program.jar

上传到centos

运行程序

java -jar simple.jar

权限因素，自行检查

程序里需要访问系统文件

程序里需要开启tcp 端口，需要用root运行

创建运行脚本

一般来说，需要创建一个脚本，以便能快捷地启动程序

参考run_app.sh

设置工作目录

设置必要地环境变量

设置JVM 运行参数

运行程序

Tomcat 服务器地运行

本身是一个java 程序，必须要有java 地运行环境

检查tomacat 进程是否在运行

ps -ef | grep java

netstat -anp | grep 8080

访问网站

关闭服务器

ps -ef|grep java

要点与细节

需要有java 运行环境才能运行

tomcat 作为网络服务器，应该以root 执行

tomcat 是以后台服务方式运行的

要点与细节

不一定要部署在/opt/ 也可以放在 /root 下

注意网站的根目录，ROOT 区分大小写

/opt/www_your_own/ROOT


tomcat

创建启动脚本

tomcat 自带的脚本

startup

shutdown

catalina

创建一个脚本 run_tomcat.sh

以后台方式运行服务

停止服务

在当前窗口运行 方便打印调试

run_tomcat.sh run

其中，参数 start stop run 会间接地传给catalina.sh

------- 程序与进程

程序 program 指一个程序文件，

ps -ef 查看所有的进程信息

要点与细节

重点注意 进程的pid 字段，pid 由系统动态赋予，不是固定的。


中断进程

强行结束 当前进程 ctrl+c

演示
运行top 按 ctrl+c 强行结束

gedit 按 ctrl+c 强行结束

杀死进程

已知一个进程 的pid ，可以强行杀死该进程

kill -9 NNN

或者pkill name_of_process

显然，只有root 才能杀死一切进程，普通用户就只能杀死自己的进程

redis 服务器

redis，一款基于内存的key value 型数据库

本章内容

redis 服务器的安装
redis 源码的编译
redis 服务器的配置



</code></pre>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231129-SSH加密和安全笔记"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/29/20231129-SSH%E5%8A%A0%E5%AF%86%E5%92%8C%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0/"
    >20231129-SSH加密和安全笔记</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/29/20231129-SSH%E5%8A%A0%E5%AF%86%E5%92%8C%E5%AE%89%E5%85%A8%E7%AC%94%E8%AE%B0/" class="article-date">
  <time datetime="2023-11-29T05:48:25.000Z" itemprop="datePublished">2023-11-29</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>软件的实现</p>
<p>openssh ssh 协议的开源实现，centos 默认安装</p>
<p>dropbear 另一个开源项目的实现</p>
<p>ssh 协议版本</p>
<p>v1基于crc32做mac 不安全 man-in-middle</p>
<p>v2 双方主机协议选择安全的mac 方式，基于DH 算法做密钥交换，基于RSA 或DSA 实现身份认证</p>
<p>3.1.1 公钥交换原理</p>
<p>客户端发起链接请求</p>
<p>服务端返回自己的公钥，以及一个会话id </p>
<p>客户端生成密钥对</p>
<hr>
<p>命令行工具</p>
<p>base64</p>
<p>md5sum</p>
<p>cat</p>
<p>当用户远程连接ssh 服务器时，会复制ssh 服务器 .pub 文件中的公钥到客户机的 know_hosts 中，下次连接时，会自动匹配相应私钥，不能匹配，将拒绝连接</p>
<p>范例</p>
<p>禁用自动连接的过程</p>
<p>安全机制</p>
<p>对称和非对称加密</p>
<p>散列算法</p>
<p>gpg</p>
<p>PKI和CA</p>
<p>openssl</p>
<p>证书管理</p>
<p>ssh 服务和dropbear</p>
<p>轻量级自动化运维工具</p>
<p>aide</p>
<p>sudo<br>tcp wrappers</p>
<p>pam 模块</p>
<p>centos</p>
<p>openssh 是ssh 协议的免费开源实现，一般在各种linux 版本中会默认安装，基于cs 结构</p>
<p>rdm</p>
<p>systemctl status sshd 查看服务器的状态</p>
<p>ss -ntl</p>
<p>scp</p>
<p>sftp</p>
<p>远程执行命令</p>
<p>ssh 10.0.0.8 “sed -i.bak</p>
<p>在远程主机运行本地shell脚本</p>
<p>ssh 选项</p>
<p>-p port 远程服务器监听的端口<br>-b 指定连接的源ip<br>-v 调试模式<br>-c 压缩方式<br>-x 支持x11转发</p>
<p>lastb</p>
<p>btmp</p>
<p>wc -l</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">lastb -f btmp-34 | wc -l</span><br><span class="line"></span><br><span class="line">lastb -f btmp-34 | awk &#x27;&#123;print $3&#125;&#x27; | sort |uniq -c |sort -nr|head</span><br></pre></td></tr></table></figure>

<p>联发科 专用刷机工具 mtkclient</p>
<p>手机获取root 权限基本步骤</p>
<p>解锁 bootloader 提取 boot 修补 boot 刷入 boot</p>
<p>fastboot 环境  bootrom 环境 系统环境  fastboot 环境</p>
<p>xmanager</p>
<p>1 CA实现和证书管理，用脚本实现</p>
<p>2 ssh 服务常见操作</p>
<p>openssl</p>
<p>base64 编码</p>
<p>加密和安全</p>
<p>跳跃</p>
<p>ssh -t 10.0.0.8 ssh -t 10.0.0.7 ssh 10.0.0.6</p>
<p>-o 指定 ssh 的配置</p>
<p>输入重定向</p>
<p>ssh 10.0.0.6 bash &lt; &#x2F;root&#x2F;test2.sh</p>
<p>ssh 服务登录的常用验证方式</p>
<p>用户 口令</p>
<p>基于密钥</p>
<p>scp 拷贝文件</p>
<p>win10 创建访客账户</p>
<p>实现基于密钥的登录方式</p>
<p>ll .sh&#x2F;</p>
<p>防火墙</p>
<p>cat hosts.txt</p>
<p>while read ip; do ssh $ip bash &lt; &#x2F;root&#x2F;test2.sh; done &lt; hosts.txt</p>
<p>for i in <code>cat hosts.txt</code>; do echo $i; done</p>
<p>ls -a .sh</p>
<p>RSC 协议</p>
<p>-n 模拟复制过程<br>显示详细过程<br>递归复制目录树<br>保留权限<br>保留修改时间戳<br>保留组信息<br>保留所有者信息<br>将软链接文件指向的文件复制</p>
<p>如果接收者的文件比发送者的文件较新，将忽略同步</p>
<p>压缩，节约带宽</p>
<p>rsync -av &#x2F;data&#x2F;test 10.0.0.7:&#x2F;data # 复制目录和目录下的文件</p>
<p>rsync -av &#x2F;data&#x2F;test&#x2F; 10.0.0.7:&#x2F;data # 只目录下的文件</p>
<p>ssh 高级应用</p>
<p>本地端口转发</p>
<p>ssh 会自动加密和解密所有ssh 客户端与服务端之间的网络数据</p>
<p>telnet SMTP LDAP 这些TCP 应用均能够从中得益，避免了用户名，密码以及隐私信息的明文传输</p>
<p>SSH 端口转发能够提供两大功能</p>
<p>加密ssh client 端至ssh server 端之间的通讯数据</p>
<p>突破防火墙的限制完成一些之前无法建立连接的TCP 连接</p>
<p>sam 文件 密码</p>
<p>iptable</p>
<p>tail</p>
<p>ssh 服务器配置</p>
<p>服务器端 sshd</p>
<p>服务器端的配置文件 sshd-config</p>
<p>常用参数</p>
<p>魂斗罗 contra</p>
<p>ssh 服务的最佳实践</p>
<p>建议使用非默认端口</p>
<p>禁止使用 </p>
<p>限制可登录用户</p>
<p>设定空闲会话超时时长</p>
<p>禁止使用空密码</p>
<p>禁止root 用户直接登录</p>
<p>限制ssh 的访问频度和并发在线数</p>
<p>经常分析日志</p>
<p>ssh 其它相关工具</p>
<p>挂在远程ssh 目录sshfs</p>
<p>由EPEL源提供，目前centos 还没有提供，可以利用ssh 协议高在远程目录</p>
<p>自动登录ssh 工具sshpass</p>
<p>由EPEL源提供，ssh 登录不能在命令行中指定密码，sshpass 的出现，解决了这一问题</p>
<p>它支持密码从命令行  文件 环境变量中读取</p>
<p>格式 sshpass [option] command parameters</p>
<p>常见选项</p>
<p>-p password 后跟密码它允许你用 -p 参数指定明文密码，然后直接登录远程服务器</p>
<p>-f filename 后跟保存密码的文件名，密码是文件内容的第一行</p>
<p>-e 将环境变量SSHPASS 作为密码</p>
<p>sshpass –help</p>
<p>sshpass -p magedu ssh -o StrictHostKeyChecking&#x3D;no 10.0.0.7</p>
<p>本机known_hosts文件中有的主机才能生效</p>
<p>chmod</p>
<p>vim change_pass_dd.sh</p>
<p>ssh 10.0.0.28</p>
<p>批量修改多台主机的root 密码为随机密码</p>
<p>批量部署多台主机基于key 验证 1</p>
<p>遗传算法</p>
<p>轻量级自动化运维工具pssh</p>
<p>EPEL 源中提供了多个自动化运维工具</p>
<p>pssh 基于 python 编写，可在多台服务器上执行命令的工具，也可实现文件复制，提供了基于ssh 和scp 的多个并行工具</p>
<p>pdsh 是一个多线程远程shell 客户端，可以并行执行多个远程主机上的命令</p>
<p>mussh 是一个shell 脚本，允许使用命令在多个主机上通过ssh 执行命令。</p>
<p>pssh 命令选项如下</p>
<p>pssh -h hosts.txt -i echo $UID</p>
<p>pssh -h hosts.txt -i echo $HOSTNAME</p>
<p>pslurp 命令</p>
<p>功能是将远程主机的文件批量复制到本地</p>
<p>-L 指定从远程主机下载到本机的存储的目录，local 是下载到本地好的名称</p>
<p>-r 递归复制目录</p>
<p>dropbear</p>
<p>是特别有用的嵌入式linux 系统，如无线路由器，期望在存储器与运算能力有限的情况下取代openssh，尤其是嵌入式系统</p>
<p>rpm -qf &#x2F;usr&#x2F;sbin&#x2F;sshd</p>
<p>wget</p>
<p>文件完整性检查 AIDE</p>
<p>编译安装 dropbear</p>
<p>dropbear -p :2222 -FE</p>
<p>linux&#x3D;grub2+kernel+busybox+dropbear</p>
<p>动态端口转发</p>
<p>depmod</p>
<p>windows</p>
<p>bios<br>windows<br>C<br>app</p>
<p>linux<br>bootloader 常用u-boot<br>linux内核  内核本身，驱动程序<br>根文件系统 系统必备app 我们的app<br>APP</p>
<hr>
<p>vim<br>编辑器</p>
<p>删除x 删除光标之后的内容</p>
<p>dd 删除整行</p>
<p>ndd &#x2F;&#x2F; 删除当前行及其后的n-1行 n 是数字</p>
<p>o 在当前行下面新增加一行</p>
<p>u 撤销上一步操作</p>
<p>4 复制&#x2F;粘贴</p>
<p>yy 复制当前行 yank 复制<br>nyy 复制当前行及其后的n-1行 n是数字</p>
<p>p 粘贴 paste</p>
<p>替换&#x2F;查找</p>
<p>&#x2F;pattern 从光标开始处向文件尾 pattern 后按下n 向下查找，或N 向上查找</p>
<p>:%s&#x2F;p1&#x2F;p2&#x2F;g 将文件中所有的pi 均用p2 替换<br>:%s&#x2F;p1&#x2F;p2&#x2F;gc 替换时需要确认</p>
<p>s 全称 substitute 替换</p>
<p>g global 全局<br>c 全称confirm 确认</p>
<p>嵌入式linux 开发</p>
<p>在windows 编辑</p>
<p>在服务器编译</p>
<p>在开发板运行</p>
<p>USB 网卡</p>
<p>windows 软件</p>
<p>vmware 虚拟机软件<br>source insight 阅读、编写源码的工具，<br>mobaxterm 串口工具，远程登录工具<br>filezilla 文件传输工具，在windows 和ubuntu 之间传输文件</p>
<p>notepad</p>
<p>reboot</p>
<p>下载BSP及配置工具链</p>
<p>100ask_imx6ull 开发板的BSP都保存在git 站点上，通过repo 命令统一管理</p>
<p>配置repo</p>
<p>NFS 实现了一个跨越网络的文件访问功能，</p>
<p>NFS 最大的特点是将服务端的文件系统目录树映射到客户端，而在客户端访问该目录树与访问本地文件系统没有任何差别，客户端并不知道这个文件系统目录树是本地的还是远在另外一台服务器</p>
<p>SMP 负载均衡</p>
<p>gcc<br>-E 预处理，开发过程中想快速确定某个宏可以使用 -E -dM</p>
<p>-c 把预处理、编译、汇编都做了，但是不链接<br>-o 指定输出文件<br>-I 指定头文件目录<br>-L 指定链接时库文件目录<br>-l 指定链接哪一个库文件</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231127-如何使用电烙铁焊接"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/27/20231127-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E7%94%B5%E7%83%99%E9%93%81%E7%84%8A%E6%8E%A5/"
    >20231127-如何使用电烙铁焊接</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/27/20231127-%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E7%94%B5%E7%83%99%E9%93%81%E7%84%8A%E6%8E%A5/" class="article-date">
  <time datetime="2023-11-27T06:21:27.000Z" itemprop="datePublished">2023-11-27</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>使用完放在架子上</p>
<p>专用的焊台</p>
<p>清洗焊锡</p>
<p>助焊剂</p>
<p>吸锡海绵</p>
<p>焊接电线</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231127-过年实用物品"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/27/20231127-%E8%BF%87%E5%B9%B4%E5%AE%9E%E7%94%A8%E7%89%A9%E5%93%81/"
    >20231127-过年实用物品</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/27/20231127-%E8%BF%87%E5%B9%B4%E5%AE%9E%E7%94%A8%E7%89%A9%E5%93%81/" class="article-date">
  <time datetime="2023-11-27T05:51:26.000Z" itemprop="datePublished">2023-11-27</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><a target="_blank" rel="noopener" href="https://s.weibo.com/weibo?q=%E8%BF%87%E5%B9%B4%E5%AE%9E%E7%94%A8%E7%89%A9%E5%93%81#_loginLayer_1701064251178">https://s.weibo.com/weibo?q=%E8%BF%87%E5%B9%B4%E5%AE%9E%E7%94%A8%E7%89%A9%E5%93%81#_loginLayer_1701064251178</a></p>
<p>航空杯</p>
<p>一次性烟灰缸</p>
<p>蒸笼纸</p>
<p>一次性桌布</p>
<p>一次性调料袋</p>
<p>压缩浴巾</p>
<p>一次性马桶盖</p>
<p>一次性压缩床单</p>
<p>一次性袜子</p>
<p>去渍湿巾</p>
<p>一次性马桶刷</p>
<p>一次性防尘罩</p>
<p>油烟机布</p>
<p>网格双面胶</p>
<p>厨房湿巾</p>
<p>空气炸锅吸油纸</p>
<p>一次性手套</p>
<p>保鲜膜套</p>
<p>水槽过滤网纸</p>
<p>香皂片</p>
<p>一次性垃圾袋</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231126-rsync用法教程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/26/20231126-rsync%E7%94%A8%E6%B3%95%E6%95%99%E7%A8%8B/"
    >20231126-rsync用法教程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/26/20231126-rsync%E7%94%A8%E6%B3%95%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2023-11-26T12:20:00.000Z" itemprop="datePublished">2023-11-26</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>rsync 是一个常用的linux 应用程序，用于文件同步</p>
<p>它可以在本地计算机与远程计算机之间，或者两个本地目录之间同步文件，它可以当作文件复制工具，替代cp 和mv 命令</p>
<p>rsync 的最大特点是会检查发送方和接受方已有的文件，仅传输有变动的部分</p>
<p>二、安装</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># Debian</span><br><span class="line">$ sudo apt-get install rsync</span><br><span class="line"></span><br><span class="line"># Red Hat</span><br><span class="line">$ sudo yum install rsync</span><br><span class="line"></span><br><span class="line"># Arch Linux</span><br><span class="line">$ sudo pacman -S rsync</span><br></pre></td></tr></table></figure>

<p>基本方法</p>
<p>-r 参数</p>
<p>本机使用rsync 命令时，可以作为cp 和mv 命令的替代方法，将源目录同步到目标目录</p>
<p>$ rsync -r source destination</p>
<p>上面命令中，-r 表示递归，即包含子目录，注意，-r是必须的，否则rsync 运行不会成功，source 目录表示源目录，destination 表示目标目录</p>
<p>如果有多个文件或目录需要同步，可以写成下面这样</p>
<p>$ rsync -r source1 source2 destination</p>
<p>上面命令中，source1 source2 都会被同步到destination 目录</p>
<p>-a 参数</p>
<p>-a参数可以替代-r，除了可以递归同步以外，还可以同步元信息，比如修改时间、权限等，由于rsync 默认使用文件大小和修改时间决定是否需要更新，所以-a 比-r 更有用，下面的用法才是常见的写法</p>
<p>$ rsync -a source destination</p>
<p>目标目录 destination 如果不存在，rsync 会自动创建，执行上面的命令后，源目录source 被完整地复制到了目标目录 destination 下面，即形成了destination&#x2F;source 的目录结构</p>
<p>如果只想同步源目录 source 里面的内容到destination 则需要在源目录后面加上斜杠</p>
<p>$ rsync -a source&#x2F; destination</p>
<p>上面命令中，-n 参数模拟命令执行的结果，并不真的执行命令，-v 参数则是将结果输出到终端，这样就可以看到那些内容会被同步</p>
<p>–delete 参数</p>
<p>默认情况下，rsync 只确保源目录的所有内容，都复制到目标目录，它不会使两个目录保持相同，并且不会删除文件，如果要使得目标目录成为源目录的镜像副本，则必须使用–delete参数，这将删除只存在于目标目录、不存在于源目录的文件。</p>
<p>$ rsync -av –delete source&#x2F; destination</p>
<p>上面命令中，–delete 参数会使得 destination 成为source 的一个镜像</p>
<p>排除文件</p>
<p>–exclude 参数</p>
<p>有时，我们希望同步时排除某些文件或目录，这时可以用 –exclude 参数指定排除模式</p>
<p>$ rsync -av –exclude&#x3D;’*.txt’ source&#x2F; destination</p>
<h1 id="或者"><a href="#或者" class="headerlink" title="或者"></a>或者</h1><p>$ rsync -av –exclude ‘*.txt’ source&#x2F; destination</p>
<p>上面命令排除了所有txt 文件</p>
<p>注意，rsync 会同步以”点”开头的隐藏文件，如果要排除隐藏文件，可以这样写<code>--exclude=&quot;.*&quot;</code>。</p>
<p>如果要排除某个目录里面的所有文件，但不希望排除目录本身，可以写成下面这样。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude &#x27;dir1/*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>多个排除模式，可以用多个 –exclude 参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude &#x27;file1.txt&#x27; --exclude &#x27;dir1/*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>多个排除模式也可以利用bash 的大括号 的扩展功能，只用一个–exclude 参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude=&#123;&#x27;file1.txt&#x27;,&#x27;dir1/*&#x27;&#125; source/ destination</span><br></pre></td></tr></table></figure>

<p>如果排除模式很多，可以将他们写入一个文件，每个模式一行，然后用–exclude-from 参数指定这个文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --exclude-from=&#x27;exclude-file.txt&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>–include 参数 用来指定必须同步的文件模式，往往与–exclude 结合使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av --include=&quot;*.txt&quot; --exclude=&#x27;*&#x27; source/ destination</span><br></pre></td></tr></table></figure>

<p>上面命令指定同步时，排除所有文件，但是会包括txt 文件</p>
<p>远程同步</p>
<p>SSH</p>
<p>rsync 除了支持本地两个目录之间的同步，也支持远程同步，它可以将本地内容，同步到远程服务器</p>
<p>$ rsync -av source&#x2F; username@remote_host:destination</p>
<p>也可以将远程内容同步到本地</p>
<p>$ rsync -av username@remote_host:source&#x2F; destination</p>
<p>rsync 默认使用ssh 进行远程登录和数据传输</p>
<p>由于早期rsync 不使用ssh 协议，需要用-e 参数指定协议，后来才改的，所以，下面 -e ssh 可以省略</p>
<p>$ rsync -av -e ssh source&#x2F; user@remote_host:&#x2F;destination</p>
<p>但是，如果ssh 命令有附加的参数，则必须使用-e 参数指定所要执行的ssh 命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ rsync -av -e &#x27;ssh -p 2234&#x27; source/ user@remote_host:/destination</span><br></pre></td></tr></table></figure>

<p>上面命令中，-e 参数指定ssh 使用2234 端口</p>
<p>rsync 协议</p>
<p>除了使用ssh ，如果另一台服务器安装并运行了 rsync 守护程序，则也可以用rsync:&#x2F;&#x2F;协议（默认端口873）进行传输。具体写法是服务器与目标目录之间使用双冒号分隔::。</p>
<p>$ rsync -av source&#x2F; 192.168.122.32::module&#x2F;destination</p>
<p>注意，上面地址中的module 并不是实际路径名，二十rsync 守护程序指定的一个资源名，由管理员分配</p>
<p>如果想知道rsync 守护程序分配的所有module 列表，可以执行下面命令</p>
<p>$ rsync rsync:&#x2F;&#x2F;192.168.122.32</p>
<p>rsync 协议除了使用双冒号，也可以直接用rsync:&#x2F;&#x2F; 协议指定地址</p>
<p>$ rsync -av source&#x2F; rsync:&#x2F;&#x2F;192.168.122.32&#x2F;module&#x2F;destination</p>
<p>六、增量备份</p>
<p>rsync 的最大特点就是它可以完成增量备份，也就是默认只复制有变动的文件</p>
<p>rsync 还支持使用基准目录，即将源目录与基准目录之间变动的部分，同步到目标目录</p>
<p>具体做法是，第一次同步是全量备份，所有文件在基准目录里面同步一份。以后每一次同步都是增量备份，只同步源目录与基准目录之间有变动的部分，将这部分保存在一个新的目标目录。这个新的目标目录之中，也是包含所有文件，但实际上，只有那些变动过的文件是存在于该目录，其他没有变动的文件都是指向基准目录文件的硬链接。</p>
<p>–link-dest 参数用来指定同步时的基准目录</p>
<p>$ rsync -a –delete –link-dest &#x2F;compare&#x2F;path &#x2F;source&#x2F;path &#x2F;target&#x2F;path</p>
<p>上面命令中，–link-dest 参数指定基准目录&#x2F;compare&#x2F;path 然后源目录 source&#x2F;path 跟基准目录进行比较，找出变动的文件，将它们拷贝到目标目录 target&#x2F;path 那些没变动的文件则会生成硬链接，这个命令的第一次备份时时全量备份，后面就是增量备份了</p>
<p>七、配置项</p>
<p>-a –archive 参数表示存档模式，保存所有的元数据，比如修改时间、权限、所有者等</p>
<p>–append 参数指定文件接着上次中断的地方，继续传输</p>
<p>–append-verify参数跟–append参数类似，但会对传输完成后的文件进行一次校验。如果校验失败，将重新发送整个文件。</p>
<p>-b、–backup参数指定在删除或更新目标目录已经存在的文件时，将该文件更名后进行备份，默认行为是删除。更名规则是添加由–suffix参数指定的文件后缀名，默认是<code>~</code>。</p>
<p>–backup-dir参数指定文件备份时存放的目录，比如–backup-dir&#x3D;&#x2F;path&#x2F;to&#x2F;backups。</p>
<p>–bwlimit参数指定带宽限制，默认单位是 KB&#x2F;s，比如–bwlimit&#x3D;100。</p>
<p>-c、–checksum参数改变rsync的校验方式。默认情况下，rsync 只检查文件的大小和最后修改日期是否发生变化，如果发生变化，就重新传输；使用这个参数以后，则通过判断文件内容的校验和，决定是否重新传输。</p>
<p>–delete参数删除只存在于目标目录、不存在于源目标的文件，即保证目标目录是源目标的镜像。</p>
<p>-e参数指定使用 SSH 协议传输数据。</p>
<p>–exclude参数指定排除不进行同步的文件，比如<code>--exclude=&quot;*.iso&quot;</code>。</p>
<p>–exclude-from参数指定一个本地文件，里面是需要排除的文件模式，每个模式一行。</p>
<p>–existing、–ignore-non-existing参数表示不同步目标目录中不存在的文件和目录。</p>
<p>-h参数表示以人类可读的格式输出。</p>
<p>-h、–help参数返回帮助信息。</p>
<p>-i参数表示输出源目录与目标目录之间文件差异的详细情况。</p>
<p>–ignore-existing参数表示只要该文件在目标目录中已经存在，就跳过去，不再同步这些文件。</p>
<p>–include参数指定同步时要包括的文件，一般与–exclude结合使用。</p>
<p>–link-dest参数指定增量备份的基准目录。</p>
<p>-m参数指定不同步空目录。</p>
<p>–max-size参数设置传输的最大文件的大小限制，比如不超过200KB（–max-size&#x3D;’200k’）。</p>
<p>–min-size参数设置传输的最小文件的大小限制，比如不小于10KB（–min-size&#x3D;10k）。</p>
<p>-n参数或–dry-run参数模拟将要执行的操作，而并不真的执行。配合-v参数使用，可以看到哪些内容会被同步过去。</p>
<p>-P参数是–progress和–partial这两个参数的结合。</p>
<p>–partial参数允许恢复中断的传输。不使用该参数时，rsync会删除传输到一半被打断的文件；使用该参数后，传输到一半的文件也会同步到目标目录，下次同步时再恢复中断的传输。一般需要与–append或–append-verify配合使用。</p>
<p>–partial-dir参数指定将传输到一半的文件保存到一个临时目录，比如–partial-dir&#x3D;.rsync-partial。一般需要与–append或–append-verify配合使用。</p>
<p>–progress参数表示显示进展。</p>
<p>-r参数表示递归，即包含子目录。</p>
<p>–remove-source-files参数表示传输成功后，删除发送方的文件。</p>
<p>–size-only参数表示只同步大小有变化的文件，不考虑文件修改时间的差异。</p>
<p>–suffix参数指定文件名备份时，对文件名添加的后缀，默认是<code>~</code>。</p>
<p>-u、–update参数表示同步时跳过目标目录中修改时间更新的文件，即不同步这些有更新的时间戳的文件。</p>
<p>-v参数表示输出细节。-vv表示输出更详细的信息，-vvv表示输出最详细的信息。</p>
<p>–version参数返回 rsync 的版本。</p>
<p>-z参数指定同步时压缩数据。</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231109-FPV穿越机教程"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/09/20231109-FPV%E7%A9%BF%E8%B6%8A%E6%9C%BA%E6%95%99%E7%A8%8B/"
    >20231109-FPV穿越机教程</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/09/20231109-FPV%E7%A9%BF%E8%B6%8A%E6%9C%BA%E6%95%99%E7%A8%8B/" class="article-date">
  <time datetime="2023-11-09T07:09:52.000Z" itemprop="datePublished">2023-11-09</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1cU4y187J2">https://www.bilibili.com/video/BV1cU4y187J2</a></p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
    <article
  id="post-20231108-西门子1200PLC入门"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
  data-scroll-reveal
>
  <div class="article-inner">
    
    <header class="article-header">
       
<h2 itemprop="name">
  <a class="article-title" href="/2023/11/08/20231108-%E8%A5%BF%E9%97%A8%E5%AD%901200PLC%E5%85%A5%E9%97%A8/"
    >20231108-西门子1200PLC入门</a> 
</h2>
 

      
    </header>
     
    <div class="article-meta">
      <a href="/2023/11/08/20231108-%E8%A5%BF%E9%97%A8%E5%AD%901200PLC%E5%85%A5%E9%97%A8/" class="article-date">
  <time datetime="2023-11-08T04:16:15.000Z" itemprop="datePublished">2023-11-08</time>
</a>    
    </div>
      
    <div class="article-entry" itemprop="articleBody">
       
  <p>高速计数器<br>编码器</p>
<p>smart st-1200 扩展能力</p>
<p>TIA</p>
<p>博途</p>
 
      <!-- reward -->
      
    </div>
    

    <!-- copyright -->
    
    <footer class="article-footer">
       
    </footer>
  </div>

   
    
</article>

    
  </article>
  

  
  <nav class="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/2/">下一页</a>
  </nav>
  
</section>
</div>

      <footer class="footer">
  <div class="outer">
    <ul>
      <li>
        Copyrights &copy;
        2015-2023
        <i class="ri-heart-fill heart_icon"></i> TeX_baitu
      </li>
    </ul>
    <ul>
      <li>
        
      </li>
    </ul>
    <ul>
      <li>
        
        
        <span>
  <span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span>
  <span class="division">|</span>
  <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span>
</span>
        
      </li>
    </ul>
    <ul>
      
    </ul>
    <ul>
      
    </ul>
    <ul>
      <li>
        <!-- cnzz统计 -->
        
        <script type="text/javascript" src='https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914'></script>
        
      </li>
    </ul>
  </div>
</footer>    
    </main>
    <div class="float_btns">
      <div class="totop" id="totop">
  <i class="ri-arrow-up-line"></i>
</div>

<div class="todark" id="todark">
  <i class="ri-moon-line"></i>
</div>

    </div>
    <aside class="sidebar on">
      <button class="navbar-toggle"></button>
<nav class="navbar">
  
  <div class="logo">
    <a href="/"><img src="/images/ayer-side.svg" alt="TeX_baitu blog"></a>
  </div>
  
  <ul class="nav nav-main">
    
    <li class="nav-item">
      <a class="nav-item-link" href="/">主页</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/archives">归档</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/categories">分类</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags">标签</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/tags/%E6%97%85%E8%A1%8C/">旅行</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" target="_blank" rel="noopener" href="http://shenyu-vip.lofter.com">摄影</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/friends">友链</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-item-link" href="/2019/about">关于我</a>
    </li>
    
  </ul>
</nav>
<nav class="navbar navbar-bottom">
  <ul class="nav">
    <li class="nav-item">
      
      <a class="nav-item-link nav-item-search"  title="搜索">
        <i class="ri-search-line"></i>
      </a>
      
      
      <a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed">
        <i class="ri-rss-line"></i>
      </a>
      
    </li>
  </ul>
</nav>
<div class="search-form-wrap">
  <div class="local-search local-search-plugin">
  <input type="search" id="local-search-input" class="local-search-input" placeholder="Search...">
  <div id="local-search-result" class="local-search-result"></div>
</div>
</div>
    </aside>
    <div id="mask"></div>

<!-- #reward -->
<div id="reward">
  <span class="close"><i class="ri-close-line"></i></span>
  <p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p>
  <div class="reward-box">
    
    
  </div>
</div>
    
<script src="/js/jquery-3.6.0.min.js"></script>
 
<script src="/js/lazyload.min.js"></script>

<!-- Tocbot -->

<script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script>
<link
  rel="stylesheet"
  href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"
/>
<script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script>

<script src="/dist/main.js"></script>

<!-- ImageViewer -->
 <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>

<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css">
<link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css">
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script>
<script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script>

<script>
    function viewer_init() {
        let pswpElement = document.querySelectorAll('.pswp')[0];
        let $imgArr = document.querySelectorAll(('.article-entry img:not(.reward-img)'))

        $imgArr.forEach(($em, i) => {
            $em.onclick = () => {
                // slider展开状态
                // todo: 这样不好，后面改成状态
                if (document.querySelector('.left-col.show')) return
                let items = []
                $imgArr.forEach(($em2, i2) => {
                    let img = $em2.getAttribute('data-idx', i2)
                    let src = $em2.getAttribute('data-target') || $em2.getAttribute('src')
                    let title = $em2.getAttribute('alt')
                    // 获得原图尺寸
                    const image = new Image()
                    image.src = src
                    items.push({
                        src: src,
                        w: image.width || $em2.width,
                        h: image.height || $em2.height,
                        title: title
                    })
                })
                var gallery = new PhotoSwipe(pswpElement, PhotoSwipeUI_Default, items, {
                    index: parseInt(i)
                });
                gallery.init()
            }
        })
    }
    viewer_init()
</script> 
<!-- MathJax -->

<!-- Katex -->

<!-- busuanzi  -->
 
<script src="/js/busuanzi-2.3.pure.min.js"></script>
 
<!-- ClickLove -->

<!-- ClickBoom1 -->

<!-- ClickBoom2 -->

<!-- CodeCopy -->
 
<link rel="stylesheet" href="/css/clipboard.css">
 <script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script>
<script>
  function wait(callback, seconds) {
    var timelag = null;
    timelag = window.setTimeout(callback, seconds);
  }
  !function (e, t, a) {
    var initCopyCode = function(){
      var copyHtml = '';
      copyHtml += '<button class="btn-copy" data-clipboard-snippet="">';
      copyHtml += '<i class="ri-file-copy-2-line"></i><span>COPY</span>';
      copyHtml += '</button>';
      $(".highlight .code pre").before(copyHtml);
      $(".article pre code").before(copyHtml);
      var clipboard = new ClipboardJS('.btn-copy', {
        target: function(trigger) {
          return trigger.nextElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        let $btn = $(e.trigger);
        $btn.addClass('copied');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-checkbox-circle-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPIED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-checkbox-circle-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
      clipboard.on('error', function(e) {
        e.clearSelection();
        let $btn = $(e.trigger);
        $btn.addClass('copy-failed');
        let $icon = $($btn.find('i'));
        $icon.removeClass('ri-file-copy-2-line');
        $icon.addClass('ri-time-line');
        let $span = $($btn.find('span'));
        $span[0].innerText = 'COPY FAILED';
        
        wait(function () { // 等待两秒钟后恢复
          $icon.removeClass('ri-time-line');
          $icon.addClass('ri-file-copy-2-line');
          $span[0].innerText = 'COPY';
        }, 2000);
      });
    }
    initCopyCode();
  }(window, document);
</script>
 
<!-- CanvasBackground -->

<script>
  if (window.mermaid) {
    mermaid.initialize({ theme: "forest" });
  }
</script>


    
    

  </div>
</body>

</html>